<div class="m-dropArea">
{#list rows as row}
<div class="f-cb">
    <droppable on-dragover={this.dragOver($event)} on-dragleave={this.dragLeave($event)} on-drop={this.drop($event, row_index)}>
        <div class="row f-cb f-fl">
            <!-- 行内的参考线 -->
            {#list 1..11 as itm}
            <div class="line" style="left: {itm*80}px"></div>
            {/list}

            <!-- 输出每行的组件 -->
            {#if row && row.length > 0}
            {#list row as module by module_index}
            <div class="f-fl f-pr g-offset-{module.offset} module">
                <r-component is={module.name} NEK={module.NEK} ref={module.name | uniq: row_index, module_index}></r-component><!-- 去掉行内元素带来的间隙
                --><div class="option">
                    <i class="f-csp u-icon u-icon-trash-o" aria-hidden="true" on-click={this.deleteModule(row_index, module_index)}></i>
                    <i class="f-csp u-icon u-icon-pencil" aria-hidden="true" on-click={this.configModule(module.name, row_index, module_index)}></i>
                    <draggable name={module.name} width={module.moduleWidth}>
                        <i class="f-csp u-icon u-icon-arrows" aria-hidden="true"></i>
                        <draggable.proxy>
                            <div class="proxy-module" style="width: {module.moduleWidth*80}px;height: 40px;line-height: 40px;">{module.name}</div>
                        </draggable.proxy>
                    </draggable>
                </div>
            </div>
            {/list}
            {/if}
        </div>
    </droppable>
    <div class="f-fl row-action">
        {#if row_index != 0}
        <i class="f-csp u-icon u-icon-arrow-up" aria-hidden="true" on-click={this.moveRowUp(row_index)}></i>
        {/if}
        {#if row_index != rows.length - 1}
        <i class="f-csp u-icon u-icon-arrow-down" aria-hidden="true" on-click={this.moveRowDown(row_index)}></i>
        {/if}
        <i class="f-csp u-icon u-icon-trash-o" aria-hidden="true" on-click={this.deleteRow(row_index)}></i>
    </div>
</div>
{/list}
<div class="f-tac">
    <span class="add-row f-csp" on-click={this.addRow()}>添加行</span>
</div>
</div>